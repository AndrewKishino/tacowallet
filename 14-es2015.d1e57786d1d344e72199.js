(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"0yzY":function(t,e,n){"use strict";n.r(e);var o=n("mrSG"),i=n("ofXK"),r=n("3Pt+"),c=n("TEn/"),s=n("tyNb"),a=n("fXoL");let u=(()=>{class t{constructor(t,e){this.taquito=t,this.summaryFunc=e,this.destination="tz1PirboZKFVqkfE45hVLpkpXaZtLk3mqC17",this.amount="1"}ngOnInit(){}send(){return Object(o.a)(this,void 0,void 0,(function*(){const t=yield this.taquito,e=yield t.wallet.transfer({amount:Number(this.amount),to:this.destination}).send();yield this.summaryFunc(e)}))}}return t.\u0275fac=function(e){return new(e||t)(a.Jb("Taquito"),a.Jb("SummaryFunc"))},t.\u0275cmp=a.Db({type:t,selectors:[["app-home"]],decls:11,vars:2,consts:[["lines","none"],["position","stacked"],["placeholder","Destination",3,"ngModel","ngModelChange"],["placeholder","Amount",3,"ngModel","ngModelChange"],["expand","block","color","primary",3,"click"]],template:function(t,e){1&t&&(a.Mb(0,"ion-list",0),a.Mb(1,"ion-item"),a.Mb(2,"ion-label",1),a.ic(3,"Destination"),a.Lb(),a.Mb(4,"ion-input",2),a.Ub("ngModelChange",(function(t){return e.destination=t})),a.Lb(),a.Lb(),a.Mb(5,"ion-item"),a.Mb(6,"ion-label",1),a.ic(7,"Amount"),a.Lb(),a.Mb(8,"ion-input",3),a.Ub("ngModelChange",(function(t){return e.amount=t})),a.Lb(),a.Lb(),a.Mb(9,"ion-button",4),a.Ub("click",(function(){return e.send()})),a.ic(10,"Send"),a.Lb(),a.Lb()),2&t&&(a.zb(4),a.bc("ngModel",e.destination),a.zb(4),a.bc("ngModel",e.amount))},directives:[c.k,c.i,c.j,c.h,c.A,r.c,r.d,c.c],styles:["[_nghost-%COMP%]{margin:0 auto;max-width:600px;display:block}"]}),t})();function d(t,e){1&t&&a.Kb(0,"ion-spinner",2)}function l(t,e){1&t&&(a.Mb(0,"p"),a.ic(1,"Completed"),a.Lb())}let b=(()=>{class t{constructor(){this.loading=!0}ngOnInit(){return Object(o.a)(this,void 0,void 0,(function*(){this.loading=!0,yield this.op.confirmation(),this.loading=!1}))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Db({type:t,selectors:[["app-summary-modal"]],inputs:{op:"op"},decls:2,vars:2,consts:[["name","crescent",4,"ngIf"],[4,"ngIf"],["name","crescent"]],template:function(t,e){1&t&&(a.hc(0,d,1,0,"ion-spinner",0),a.hc(1,l,2,0,"p",1)),2&t&&(a.bc("ngIf",e.loading),a.zb(1),a.bc("ngIf",!e.loading))},directives:[i.j,c.p],styles:[""]}),t})();var p=n("c3o+"),m=n("Scs8"),h=n("SxV6"),f=n("flj8"),v=n("qYoc");class g{constructor(t,e){this.pkh=t,this.opRequest=e}getPKH(){return Object(o.a)(this,void 0,void 0,(function*(){return this.pkh}))}mapTransferParamsToWalletParams(t){return Object(o.a)(this,void 0,void 0,(function*(){return Object(m.e)(t)}))}mapOriginateParamsToWalletParams(t){return Object(o.a)(this,void 0,void 0,(function*(){return Object(m.c)(t)}))}mapDelegateParamsToWalletParams(t){return Object(o.a)(this,void 0,void 0,(function*(){return Object(m.d)(t)}))}sendOperations(t){return Object(o.a)(this,void 0,void 0,(function*(){const e=yield this.opRequest.sendOperationRequest(t,"test"),{hash:n}=yield e.pipe(Object(h.a)()).toPromise();return n}))}}let y=(()=>{class t{constructor(t,e,n){this.opRequest=t,this.account=e,this.modalController=n}getTaquito(t){return Object(o.a)(this,void 0,void 0,(function*(){const t=yield this.account.currentAccount$.pipe(Object(h.a)()).toPromise(),e=new m.b;return e.setProvider({rpc:"https://api.tez.ie/rpc/babylonnet",wallet:new g(yield t.getPKH(),this.opRequest)}),e}))}}return t.\u0275fac=function(e){return new(e||t)(a.Qb(v.a),a.Qb(f.a),a.Qb(c.x))},t.\u0275prov=a.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var P=n("xJ+R");let O=(()=>{class t{constructor(t){this.taquito=t}getMenu(t){return Object(o.a)(this,void 0,void 0,(function*(){const e=yield this.taquito,n=yield e.tz.getBalance(t);return Promise.resolve([{title:"Tezos",url:"/home",amount:`${e.format("mutez","tz",n).toFixed(2)} tz`,icon:"wallet"}])}))}}return t.\u0275fac=function(e){return new(e||t)(a.Qb("Taquito"))},t.\u0275prov=a.Fb({token:t,factory:t.\u0275fac}),t})();n.d(e,"HomePageModule",(function(){return j}));let j=(()=>{class t{constructor(t,e,n,o,i){t.registerCb(i,o),e.registerService(i,n)}}return t.\u0275mod=a.Hb({type:t}),t.\u0275inj=a.Gb({factory:function(e){return new(e||t)(a.Qb(p.a),a.Qb(P.a),a.Qb(O),a.Qb("SummaryFunc"),a.Qb("APP_ID"))},providers:[{provide:"APP_ID",useValue:"test"},{provide:"Taquito",useFactory:(t,e)=>t.getTaquito(e),deps:[y,"APP_ID"]},{provide:"SummaryFunc",useFactory:t=>e=>Object(o.a)(void 0,void 0,void 0,(function*(){return(yield t.create({component:b,componentProps:{op:e}})).present()})),deps:[c.x]},O],imports:[[i.c,r.a,c.u,s.j.forChild([{path:"",component:u}])]]}),t})()}}]);